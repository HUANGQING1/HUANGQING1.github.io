---
abbrlink: 18
tags: 
title: 单片机报错
---
# IAR

##### 错误1

**unable to allocate space for sections/blocks with a total estimated minimum size of 0x1fb4 bytes (max align 0x1) in <[0x008000-0x009fff]> (total uncommitted space**  

![IAR_Error_Lp011](assets/单片机报错.assets/IAR_Error_Lp011.png)

**解决办法**

- options-->C/C++ Compiler-->Optimizations：将Level改为High![IAR_Error_Lp011_Solution1](assets/单片机报错.assets/IAR_Error_Lp011_Solution1.png)

- options-->General Options-->Library Options：

  Printf formatter与Scanf formatter改小，比如改为Small without multibyte![IAR_Error_Lp011_Solution2](assets/单片机报错.assets/IAR_Error_Lp011_Solution2.png)
# C语言

##### 延时函数时间不对
看如下两份代码，除了x,y的类型定义不同，其余无区别，但在代码中，版本2不能正常驱动芯片。
原因是，x,y是unsigned int，unsigned long类型时，对应的字节数不同，计算机运算耗时不同，实际延时也不同，因而出现错误。
从这里，我们应该学会一个东西，代码没跑通之前，不要自作主张的改动任何东西。
```
//版本1

void DelayMs(u32 ms)
{
  unsigned int  x , y;
  for(x = ms; x > 0; x--)           /*  通过一定周期循环进行延时*/
    for(y = 3146 ; y > 0 ; y--);
}

//版本2
void DelayMs(u32 ms)
{
  unsigned long  x , y;
  for(x = ms; x > 0; x--)           /*  通过一定周期循环进行延时*/
    for(y = 3146 ; y > 0 ; y--);
}
```